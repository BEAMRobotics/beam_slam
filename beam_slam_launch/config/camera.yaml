# optimization params
optimization_frequency: 1
lag_duration: 5

# frames
imu_frame: "camera_accel_frame"
lidar_frame: "os1_lidar"
camera_frame: "camera_infra1_optical_frame"
world_frame: "world"
baselink_frame: "camera_accel_frame"

# calibrations
static_extrinsics: true
camera_intrinsics_path:  "/home/jake/data/LVIO/newer_college/cam0_intrinsics.json"
imu_intrinsics_path: "/home/jake/data/LVIO/newer_college/imu_intrinsics.json"

# sensor models
sensor_models:
  - name: 'camera'
    type: 'beam_models::camera_to_camera::VisualInertialOdom'
    motion_models: ['unicycle_3d']

# motion models
motion_models:
  - name: 'unicycle_3d'
    type: 'beam_models::motion::Unicycle3D'

# solver options
solver_options:
  minimizer_type: "TRUST_REGION"
  linear_solver_type: "SPARSE_NORMAL_CHOLESKY"
  minimizer_progress_to_stdout: true
  num_threads: 6
  num_linear_solver_threads: 6
  max_num_iterations: 50
  gradient_tolerance: 0.00000015
  parameter_tolerance: 0.00000015
  function_tolerance: 0.00000015

unicycle_3d:
  process_noise_diagonal: [1.0e-2, 1.0e-2, 1.0e-2,
                           1.0e-2, 1.0e-2, 1.0e-2,
                           1.0e-2, 1.0e-2, 1.0e-2,
                           1.0e-2, 1.0e-2, 1.0e-2,
                           1.0e-2, 1.0e-2, 1.0e-2]
  buffer_length: 100000

camera:
  image_topic: "/camera/infra1/image_rect_raw"
  window_size: 1000
  init_path_topic: "/lo_initialiser_result"
  imu_topic: "/camera/imu"
  source: "VIO"
